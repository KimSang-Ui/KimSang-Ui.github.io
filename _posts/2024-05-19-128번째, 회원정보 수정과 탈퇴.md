<center>3차 프로젝트 회원정보 탈퇴 코드</center>

    @PutMapping("withdraw/{email}")
    public User withdrawUser(@PathVariable String email) {
    return userService.withdrawUser(email);}
    //회원정보 탈퇴 코드(controller)

    public User withdrawUser(String email) {
    User dbUser = userRepository.findMyCustom(email);
    if (dbUser != null) {
    dbUser.setWithdrawStatus(WithdrawStatus.Y);
    userRepository.save(dbUser);
    return dbUser;
    } else {
            throw new BizException(NOTFOUNDUSER);
        }
    } 
    //회원정보 탈퇴코드(service)  

    @Query(value = "select m from User m where m.email = :email and m.withdrawStatus='N'")
    public User findMyCustom(String email); 
    //회원정보 탈퇴코드(repository)